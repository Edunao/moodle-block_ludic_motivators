define(["jquery","core/tree"],function(a,b){var c={init:function(b){console.log("Progress init",b);this.params=b,this.revealed_layers=this.params.revealed_layers,this.convert_svg("img.svg.avatar"),a.each(this.revealed_layers,function(b,c){return b+=1,0==c.length?(console.log("branche vide"),!0):(layerSelector=a("#branch-picture"+b+" #"+c),console.log("layer=",layerSelector),layerSelector.css("visibility","visible"),void 0)}),a("#branch-div").css("display","block")},convert_svg:function(b){a(b).each(function(){var b=a(this),c=b.attr("id"),d=b.attr("class"),e=b.attr("src");a.get({url:e,async:!1},function(e){var f=a(e).find("svg");"undefined"!=typeof c&&(f=f.attr("id",c)),"undefined"!=typeof d&&(f=f.attr("class",d+" replaced-svg")),f=f.removeAttr("xmlns:a"),b.replaceWith(f)})})}};return c});